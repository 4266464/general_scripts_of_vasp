import matplotlib.pyplot as plt
import numpy as np

def fit(a,b,path):
    x = np.linspace(a[0]-1.2*(b[0]-a[0]), a[0]+1.2*(b[0]-a[0]), 100)
    coef = np.polyfit((a[0], a[0]+1e-5, b[0]), (a[1], a[1], b[1]), 2)
    string = ""
    for i, j in zip(x, np.poly1d(coef)(x)):
        string += f"{i} {j}\n"
    with open(path,"w") as f:
        f.write(string)

# a=[[[0.0000 ,0.0000],[-1.0000 ,0.2189],"STE grd grd@ste "],
# [[0.0000 ,0.0000],[1.0000 ,1.7499],"STE grd grd@ste_cl2 "],
# [[-1.0000 ,4.3711],[0.0000 ,5.0599],"STE ste ste@grd "],
# [[1.0000 ,3.9576],[0.0000 ,5.0599],"STE ste_cl2 ste@grd "],
# [[0.0000 ,0.0000],[-0.2689 ,0.7699],"Te grd grd@ez "],
# [[0.0000 ,0.0000],[0.1234 ,0.2335],"Te grd grd@cz "],
# [[-0.2689 ,2.6445],[0.0000 ,3.0222],"Te ez 3p1@grd "],
# [[0.1234 ,2.9928],[0.0000 ,3.0222],"Te cz 3p1@grd "],
# [[-0.1511 ,0.0000],[0.3333 ,0.7766],"Sb+vCl grd grd@ex "],
# [[0.3333 ,2.3754],[-0.1511 ,3.2168],"Sb+vCl ex 3p1@grd "],
# [[0.0000 ,0.0000],[-1.0000 ,0.2189],"STE grd grd@ste "],
# [[0.0000 ,0.0000],[1.0000 ,1.7499],"STE grd grd@ste_cl2 "],
# [[-1.0000 ,4.3711],[0.0000 ,5.0599],"STE ste ste@grd "],
# [[1.0000 ,3.9576],[0.0000 ,5.0599],"STE ste_cl2 ste@grd "],]
a=[[[0,0],[1,0.0572],"2grd"],
[[1,1.7376],[0,2.85986],"4CT"],
[[0,0],[1,0.0233],"6grd"],
[[1,1.5228],[0,4.29986],"8CT"],]
# [[[0.0000 ,0.0000],[1.0000 ,0.08203],"single Bi grd"],
# [[1.0000 ,3.60203],[0.0000 ,3.65505],"single Bi ex"],
# [[0.0000 ,0.0000],[1.0000 ,1.25213],"Bi pair grd"],
# [[1.0000 ,3.49213],[0.0000 ,3.65505],"Bi pair ex"],
# [[0.0000 ,0.0000],[1.0000 ,0.47542],"V\-(Cl) grd"],
# [[1.0000 ,2.84354],[0.0000 ,3.31759],"V\-(Cl) ex"],
# [[0.0000 ,0.0000],[1.0000 ,0.15585],"V\-(Na) grd"],
# [[1.0000 ,3.41032],[0.0000 ,3.51658],"V\-(Na) ex"],
# [[0.0000 ,0.0000],[1.0000 ,0.68225],"Bi\-(Na) grd"],
# [[1.0000 ,3.01297],[0.0000 ,3.39918],"Bi\-(Na) ex"],]

for i in a:
    fit(*i)